<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pong Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body { 
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            font-family: Arial, sans-serif;
        }

        .container {
            text-align: center;
        }

        h1 {
            color: white;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        canvas {
            border: 2px solid white;
            background: black;
            display: block;
            box-shadow: 0 0 20px rgba(255,255,255,0.3);
        }

        .instructions {
            color: white;
            margin-top: 20px;
            font-size: 14px;
            text-align: center;
        }

        .instructions p {
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸŽ® Pong Game</h1>
        <canvas id="pong" width="800" height="400"></canvas>
        <div class="instructions">
            <p><strong>Controls:</strong> Arrow Keys (â†‘â†“) or Mouse Movement to control left paddle</p>
            <p>Right paddle is controlled by AI</p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('pong');
        const context = canvas.getContext('2d');

        // Ball properties
        const ballRadius = 8;
        let x = canvas.width / 2;
        let y = canvas.height / 2;
        let dx = 3;
        let dy = -3;

        // Paddle properties
        const paddleHeight = 80;
        const paddleWidth = 10;
        let paddleY = (canvas.height - paddleHeight) / 2;

        // Computer paddle
        let computerPaddleY = (canvas.height - paddleHeight) / 2;
        const computerSpeed = 3.5;

        // Input handling
        let upPressed = false;
        let downPressed = false;
        let mouseY = paddleY;

        // Score
        let playerScore = 0;
        let computerScore = 0;

        // Event listeners for keyboard
        document.addEventListener('keydown', keyDownHandler);
        document.addEventListener('keyup', keyUpHandler);

        // Event listener for mouse
        document.addEventListener('mousemove', mouseMoveHandler);

        function keyDownHandler(event) {
            if (event.key === 'ArrowUp') {
                upPressed = true;
            } else if (event.key === 'ArrowDown') {
                downPressed = true;
            }
        }

        function keyUpHandler(event) {
            if (event.key === 'ArrowUp') {
                upPressed = false;
            } else if (event.key === 'ArrowDown') {
                downPressed = false;
            }
        }

        function mouseMoveHandler(event) {
            const rect = canvas.getBoundingClientRect();
            mouseY = event.clientY - rect.top - paddleHeight / 2;
        }

        function drawBall() {
            context.beginPath();
            context.arc(x, y, ballRadius, 0, Math.PI * 2);
            context.fillStyle = '#00FF00';
            context.fill();
            context.closePath();

            // Ball glow effect
            context.strokeStyle = 'rgba(0, 255, 0, 0.5)';
            context.lineWidth = 2;
            context.stroke();
        }

        function drawPaddle(paddleX, paddleY) {
            context.fillStyle = '#FF00FF';
            context.fillRect(paddleX, paddleY, paddleWidth, paddleHeight);

            // Paddle glow
            context.strokeStyle = 'rgba(255, 0, 255, 0.5)';
            context.lineWidth = 2;
            context.strokeRect(paddleX, paddleY, paddleWidth, paddleHeight);
        }

        function drawCenterLine() {
            context.strokeStyle = 'rgba(255, 255, 255, 0.2)';
            context.setLineDash([10, 10]);
            context.lineWidth = 2;
            context.beginPath();
            context.moveTo(canvas.width / 2, 0);
            context.lineTo(canvas.width / 2, canvas.height);
            context.stroke();
            context.setLineDash([]);
        }

        function drawScore() {
            context.font = 'bold 24px Arial';
            context.fillStyle = 'white';
            context.textAlign = 'left';
            context.fillText('Player: ' + playerScore, 20, 35);
            
            context.textAlign = 'right';
            context.fillText('Computer: ' + computerScore, canvas.width - 20, 35);
            
            context.textAlign = 'center';
        }

        function collisionDetection() {
            // Right paddle (player) collision
            if (x + ballRadius >= canvas.width - paddleWidth - 5) {
                if (y > paddleY && y < paddleY + paddleHeight) {
                    dx = -dx * 1.02; // Slight speed increase
                    x = canvas.width - paddleWidth - ballRadius; // Prevent ball from getting stuck
                }
            }

            // Left paddle (computer) collision
            if (x - ballRadius <= paddleWidth + 5) {
                if (y > computerPaddleY && y < computerPaddleY + paddleHeight) {
                    dx = -dx * 1.02; // Slight speed increase
                    x = paddleWidth + ballRadius; // Prevent ball from getting stuck
                }
            }

            // Top and bottom wall collision
            if (y - ballRadius < 0) {
                dy = -dy;
                y = ballRadius;
            } else if (y + ballRadius > canvas.height) {
                dy = -dy;
                y = canvas.height - ballRadius;
            }
        }

        function resetBall() {
            x = canvas.width / 2;
            y = canvas.height / 2;
            dx = (Math.random() > 0.5 ? 1 : -1) * 3;
            dy = (Math.random() > 0.5 ? 1 : -1) * 3;
        }

        function updateComputerPaddle() {
            const computerCenter = computerPaddleY + paddleHeight / 2;

            if (computerCenter < y - 35) {
                computerPaddleY += computerSpeed;
            } else if (computerCenter > y + 35) {
                computerPaddleY -= computerSpeed;
            }

            // Keep computer paddle in bounds
            if (computerPaddleY < 0) {
                computerPaddleY = 0;
            } else if (computerPaddleY + paddleHeight > canvas.height) {
                computerPaddleY = canvas.height - paddleHeight;
            }
        }

        function updatePlayerPaddle() {
            // Keyboard control
            if (upPressed && paddleY > 0) {
                paddleY -= 6;
            }
            if (downPressed && paddleY < canvas.height - paddleHeight) {
                paddleY += 6;
            }

            // Mouse control (smoother)
            if (mouseY > 0 && mouseY < canvas.height - paddleHeight) {
                paddleY = mouseY;
            }

            // Keep paddle in bounds
            if (paddleY < 0) paddleY = 0;
            if (paddleY + paddleHeight > canvas.height) {
                paddleY = canvas.height - paddleHeight;
            }
        }

        function draw() {
            // Clear canvas
            context.fillStyle = 'rgba(0, 0, 0, 0.1)';
            context.fillRect(0, 0, canvas.width, canvas.height);

            // Draw elements
            drawCenterLine();
            drawBall();
            drawPaddle(0, computerPaddleY);
            drawPaddle(canvas.width - paddleWidth, paddleY);
            drawScore();

            // Update ball position
            x += dx;
            y += dy;

            // Check collisions
            collisionDetection();

            // Scoring
            if (x - ballRadius < 0) {
                playerScore++;
                resetBall();
            } else if (x + ballRadius > canvas.width) {
                computerScore++;
                resetBall();
            }

            // Update AI
            updateComputerPaddle();

            // Update player paddle
            updatePlayerPaddle();

            requestAnimationFrame(draw);
        }

        // Start the game
        draw();
    </script>
</body>
</html>
